---
import {
  AnnouncementBar,
  Button,
  CustomerQuoteSection,
  ThreeColumnTextSection,
  YouTubeEmbedSection,
  StickyTextImageSection,
  TextSection,
  CtaCardSection,
} from '@components/odyssey-theme';
import Layout from '../../layouts/Page.astro';

/** UPDATE these paths/titles/blurbs as needed. Use files in /public for zero-config img handling. */
const favorites = [
  {
    title: 'Cluster of Clusters',
    href: '/crystallography/na-cmw10/',
    blurb: 'My first structure with U(IV), a cluster made of 14 clusters linked together. The U84 structure can then act a ‘super-atom,’ mimicking the atom-like behavior in lattice formation.',
    images: [
      '/Research.github.io/assets/images/cluster1',
      '/Research.github.io/assets/images/cluster2',
      '/Research.github.io/assets/images/cluster3',
    ],
  },
  {
    title: 'Donuts',
    href: '/crystallography/luu-u84/',
    blurb: 'The next step structure in my research, and the largest U(IV)-oxo structure to date.',
    images: [
      "/assets/crystal/favorites/luu-u84/01.jpg",
      '/assets/crystal/favorites/luu-u84/02.jpg',
      '/assets/crystal/favorites/luu-u84/03.jpg',
    ],
  },
  {
    title: 'Donut Sandwich',
    href: '/crystallography/nh4-u84-rhomb/',
    blurb: 'A lucky yet frustrating surprise, the U70 sandwiches two hexamers that are disordered over five positions.',
    images: [
      '/assets/crystal/favorites/nh4-u84-rhomb/01.jpg',
      '/assets/crystal/favorites/nh4-u84-rhomb/02.jpg',
      '/assets/crystal/favorites/nh4-u84-rhomb/03.jpg',
    ],
  },
  {
    title: 'PacMan',
    href: '/crystallography/ba-euw5/',
    blurb: 'Same structural motif, but Ce(IV) gave us more fragements to work with. The PacMan structure features the most fragements and the most unique arrangement. From monomners, to dimers, to 13-mers, to the Ce70 rings.',
    images: [
      '/assets/crystal/favorites/ba-euw5/01.jpg',
      '/assets/crystal/favorites/ba-euw5/02.jpg',
      '/assets/crystal/favorites/ba-euw5/03.jpg',
    ],
  },
  {
    title: 'Interlocking-ish Rings',
    href: '/crystallography/yb-u84/',
    blurb: 'Ce(IV) strikes again and self-assembles into these almost interlocking rings.',
    images: [
      '/assets/crystal/favorites/yb-u84/01.jpg',
      '/assets/crystal/favorites/yb-u84/02.jpg',
      '/assets/crystal/favorites/yb-u84/03.jpg',
    ],
  },
  {
    title: 'The Rad One',
    href: '/crystallography/ni-pacman/',
    blurb: 'This structure was obtained with only 6 nanograms of 248Cm, representing on of the most luminescent and radioactive crystals to date.',
    images: [
      '/assets/crystal/favorites/ni-pacman/01.jpg',
      '/assets/crystal/favorites/ni-pacman/02.jpg',
      '/assets/crystal/favorites/ni-pacman/03.jpg',
    ],
  },
];
---

<Layout>    
    <TextSection>
      <h2>Favorite Structures</h2>
    </TextSection>

  <CtaCardSection
    background="var(--theme-surface-1); --container-max-width-narrow: var(--container-max-width)"
    color="var(--theme-on-surface-1)"
  >


    <div class="cards">
      {favorites.map((f) => (
        <article class="card">
          <header class="head">
            <h3 class="title"><a href={f.href}>{f.title}</a></h3>
            <p class="blurb">{f.blurb}</p>
          </header>

          <!-- exactly 3 images per structure -->
          <div class="thumbs">
            {f.images.slice(0, 3).map((src, i) => (
              <a class="thumb" href={src} target="_blank" rel="noopener noreferrer">
                <img src={src} alt={`${f.title} — image ${i + 1}`} loading="lazy" decoding="async" />
              </a>
            ))}
          </div>

          <footer class="foot">
            <a class="link" href={f.href}>View record →</a>
          </footer>
        </article>
      ))}
    </div>
  </CtaCardSection>
</Layout>

<style>
/* responsive grid of 6 cards */
.cards {
  display: grid;
  gap: 1rem;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  margin-top: 1rem;
}
@media (max-width: 1100px) { .cards { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 680px)  { .cards { grid-template-columns: 1fr; } }

/* individual card styling (with safe fallbacks) */
.card {
  border: 1px solid color-mix(in oklab, currentColor 10%, transparent);
  border-radius: var(--theme-shape-radius, 14px);
  background: var(--theme-surface-1, #fff);
  padding: 1rem;
  text-align: left;
  box-shadow: 0 1px 12px color-mix(in oklab, black 6%, transparent);
}
.head { margin-bottom: .5rem; }
.title { margin: 0 0 .25rem; font-size: 1.05rem; line-height: 1.2; }
.title a { text-decoration: none; }
.blurb { margin: 0; opacity: .85; }

/* 3 thumbnails per card (single row) */
.thumbs {
  display: grid;
  gap: .5rem;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  margin-top: .5rem;
}
@media (max-width: 540px) { .thumbs { grid-template-columns: 1fr 1fr 1fr; } }

.thumb { display: block; border-radius: 10px; overflow: hidden; }
.thumb img {
  width: 100%; height: auto;
  aspect-ratio: 4 / 3;
  object-fit: cover;
  display: block;
}

.foot { margin-top: .5rem; }
.link { text-decoration: none; font-weight: 600; }
</style>
